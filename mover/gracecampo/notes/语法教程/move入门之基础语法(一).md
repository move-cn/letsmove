# moveå…¥é—¨ä¹‹åŸºç¡€è¯­æ³•(ä¸€) ï¼šæ¨¡å—ï¼Œæ³¨é‡Šï¼Œå¸¸é‡ï¼Œç»“æ„ä½“
ğŸ§‘â€ğŸ’»ä½œè€…ï¼šgracecampo

> è¯´æ˜ï¼šæœ¬ç« å°†ä»‹ç»åœ¨moveä¸­å¦‚ä½•å»æ–°å»ºæ¨¡å—ï¼Œä»£ç æ³¨é‡Šï¼Œå£°æ˜å¸¸é‡ï¼Œå£°æ˜ç»“æ„ä½“è¯­æ³•çš„ä½¿ç”¨ã€‚

## æ–°å»ºæ¨¡å—
> æ¨¡å—çš„å®šä¹‰ï¼š æ¨¡å—æ˜¯moveçš„åŸºæœ¬æ„æˆç»„ä»¶ï¼Œåˆ©ç”¨æ¨¡å—ç‰¹æ€§å¯ä»¥ä¼˜åŒ–ä»£ç ç»“æ„ä»¥åŠåŠŸèƒ½è§£è€¦ï¼Œæ¨¡å—ä¸­å®šä¹‰çš„æ‰€æœ‰æˆå‘˜ï¼Œä¾‹å¦‚å¸¸é‡ï¼Œç»“æ„ä½“ï¼Œå‡½æ•°æ–¹æ³•éƒ½æ˜¯æ¨¡å—ç§æœ‰çš„ã€‚

æ¨¡å—è¯­æ³•ï¼š
```sui move
module package::module_name {
    // module body
} 
```
ä»ä»¥ä¸Šä»£ç ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹å‡ºï¼Œå½“æˆ‘ä»¬æƒ³è¦å£°æ˜ä¸€ä¸ªæ¨¡å—æ˜¯ï¼Œæˆ‘ä»¬éœ€è¦ç”¨ module å…³é”®å­—åè·Ÿ åŒ…åï¼šæ¨¡å—åï¼Œåœ¨{}ä¸­æ·»åŠ æ¨¡å—ä»£ç ã€‚
æ¨¡å—åè§„èŒƒï¼š 
1. æ¨¡å—åå¿…é¡»åŒ…å†…å”¯ä¸€
2. æ¨¡å—ååº”é‡‡ç”¨snake_caseå½¢å¼çš„å‘½åæ ¼å¼ï¼Œå³æ¨¡å—åå°å†™ï¼Œå¹¶ä»¥ä¸‹åˆ’çº¿åˆ†å‰²

é€šå¸¸æˆ‘ä»¬ä½¿ç”¨ `sui move new é¡¹ç›®å` å‘½ä»¤ å³å¯åˆ›å»ºå‡ºä¸€ä¸ªé¡¹ç›®æ¨¡æ¿ï¼Œå…¶ä¸­æ¨¡å—æºç å†™åœ¨sourceæ–‡ä»¶åŠ ä¸‹ã€‚

## ä»£ç æ³¨é‡Šçš„ä½¿ç”¨
> ä»£ç æ³¨é‡Šï¼šä»£ç æ³¨é‡Šåœ¨ç¨‹åºå¼€å‘ä¸­éå¸¸é‡è¦ï¼Œå®ƒç”¨äºä¸ºç›¸å…³å…³é”®ä»£ç æˆ–è€…æ–¹æ³•åšè§£é‡Šè¯´æ˜ï¼Œæˆ–è€…ç”¨äºæ ‡è¯†å¿½ç•¥éƒ¨åˆ†ä»£ç ï¼Œæé«˜ä¸å…¶ä»–å¼€å‘è€…çš„æ²Ÿé€šæ•ˆç‡ï¼Œæ–¹ä¾¿ä»–äººç†è§£ä»£ç ã€‚
>> ç‰¹ç‚¹ï¼š æ³¨é‡Šä¿¡æ¯ä¸å‚ä¸ç¼–è¯‘,æå‡ä»£ç é˜…è¯»æ€§
### è¡Œæ³¨é‡Š
> è¯­æ³•ï¼šä½¿ç”¨ // æ¥æ ‡è¯†,è¢«åŒæ–œæ æ ‡è®°åçš„è¡Œä»£ç ä¸å‚ä¸ç¼–è¯‘
>> é€šå¸¸æˆ‘ä»¬ç”¨è¡Œæ³¨é‡Šï¼Œæ¥æè¿°å˜é‡è¯´æ˜ï¼›æˆ–æ³¨é‡Šæ‰å¯¹åº”ä»£ç è¡Œï¼Œä½¿å…¶ä¸å‚ä¸ç¼–è¯‘
```sui move
module package::module_name {
    // å¸¸é‡è¯´æ˜
    const ENOT_IMPLEMENTED: u64 = 0; //å¸¸é‡è¯´æ˜ä¹Ÿå¯ä»¥æ”¾åœ¨è¿™é‡Œ
    //è¯¥å¸¸é‡è¢«æ³¨é‡Šï¼Œä¸å‚ä¸ç¼–è¯‘ï¼Œmoveç¼–è¯‘å™¨å°†æˆ–ç•¥æ­¤è¡Œä»£ç 
    //const AN_ADDRESS: address = @0x0;
    
} 
```
### å—æ³¨é‡Š
> è¯­æ³•ï¼šä½¿ç”¨/* å¼€å§‹ï¼Œä»¥ */ ç»“æŸ,æ¥æ ‡è¯†è¢«åŒ…æ‹¬çš„ä»£ç è¯­å¥,ä»£ç å—ä¸å‚ä¸ç¼–è¯‘
> > é€šå¸¸æˆ‘ä»¬ç”¨å—æ³¨é‡Šï¼Œæ³¨é‡Šæ‰å¯¹åº”ä»£ç å—ï¼Œåœ¨/* å’Œ */ä¹‹é—´çš„ä»£ç ï¼Œå°†ä¸å‚ä¸ç¼–è¯‘
```sui move
module package::module_name {
    /*å¯ä»¥æ”¾åœ¨è¿™é‡Œ*/
    fun /*å¯ä»¥æ”¾åœ¨è¿™é‡Œ*/ add_method() : u64 {
        /*å¯ä»¥æ”¾åœ¨è¿™é‡Œ*/
        let a:u64 = 10;
        let b:u64 = 10;
        a + b
    }
}
```
### æ–‡æ¡£æ³¨é‡Š
> è¯­æ³•ï¼šä½¿ç”¨ /// å¼€å§‹ï¼Œä¸ºç›¸å…³ä»£ç ç”Ÿæˆæ–‡æ¡£è¯´æ˜
> > é€šå¸¸æˆ‘ä»¬ç”¨æ–‡æ¡£æ³¨é‡Šï¼Œæ¥æè¿°æ¨¡å—ï¼Œæ–¹æ³•ï¼Œå¸¸é‡ï¼Œç»“æ„ä½“ï¼Œå‡½æ•°çš„ç”¨é€”æˆ–å¤„ç†é€»è¾‘ï¼ŒåŸºäºçº¦å®šï¼Œéœ€æ”¾åœ¨å¯¹åº”çš„ä»£ç ä¸Š
```sui move
///æ¨¡å—åŠŸèƒ½è¯´æ˜
module package::module_name {
    ///æ–¹æ³•åŠŸèƒ½è¯´æ˜
    fun  add_method() : u64 {
        ///å˜é‡è¯´æ˜
        let a:u64 = 10;
        let b:u64 = 10;
        a + b
    }
}
```
**æ–‡æ¡£æ³¨é‡Šå’Œè¡Œæ³¨é‡Šç±»ä¼¼ï¼Œåªä¸è¿‡å¯¹åº”çš„æ³¨é‡Šä¿¡æ¯çº¦å®šéœ€è¦æ”¾äºéœ€è¦æè¿°çš„ä»£ç ä¸Šä¸€è¡Œ**

## å¦‚ä½•å£°æ˜å¸¸é‡
> å¸¸é‡çš„å®šä¹‰ï¼šå¸¸é‡æ˜¯åœ¨æ¨¡å—ä¸­ï¼Œå±äºæ¨¡å—ç§æœ‰çš„çš„æˆå‘˜ï¼Œä¸€æ—¦å£°æ˜ï¼Œå€¼ä¾¿ä¸å¯å†ä¿®æ”¹;
> æˆ‘ä»¬é€šå¸¸ä½¿ç”¨constå…³é”®å­—æ¥å£°æ˜ä¸€ä¸ªå¸¸é‡ï¼Œå¸¸é‡å¿…é¡»ä»¥å¤§å†™å­—æ¯å¼€å¤´ï¼Œç¼–è¯‘å™¨å¼ºåˆ¶è¦æ±‚

> å¸¸é‡å¿…é¡»ä»¥å¤§å†™å­—æ¯å¼€å¤´ï¼Œç¼–è¯‘å™¨å¼ºåˆ¶è¦æ±‚ï¼Œæˆ‘ä»¬é€šå¸¸çº¦å®šä¸ºå…¨å¤§å†™ï¼Œä»¥ä¸‹åˆ’çº¿åˆ†å‰²
>> è¯­æ³•ï¼š const CONST_NAME: type = value;
```sui move
module package::module_name {
    // æ­¤ä¸ºä¸€ä¸ªå¸¸é‡
    const ENOT_IMPLEMENTED: u64 = 0;

} 
```
> åº”ç”¨ï¼šå› ä¸ºå¸¸é‡æ˜¯æ¨¡å—ç§æœ‰çš„ï¼Œå¦‚æœæˆ‘ä»¬éœ€è¦åœ¨å¤–éƒ¨å¼•ç”¨å®ƒï¼Œå¯ä»¥é€šè¿‡å£°æ˜ä¸€ä¸ªå‡½æ•°ï¼Œä¾›å¤–éƒ¨è®¿é—®å¸¸é‡

```sui move
module package::module_name {
    // æ­¤ä¸ºä¸€ä¸ªå¸¸é‡
    const ENOT_IMPLEMENTED: u64 = 0;
    public fun enot_implemented(): u64 { ENOT_IMPLEMENTED }
} 
```

## å¦‚ä½•å£°æ˜ç»“æ„ä½“
>ç»“æ„ä½“ï¼šåœ¨moveè¯­è¨€ä¸­ï¼Œæ ¹æ®éœ€æ±‚è‡ªå®šä¹‰å¯¹è±¡ç»“æ„ç±»å‹ï¼Œå¯ä»¥å®šä¹‰å…¶èƒ½åŠ›ä»¥åŠåŒ…å«çš„å­—æ®µï¼Œæ˜¯åœ¨æ—¥å¸¸å¼€å‘ä¸­å¿…é¡»æŒæ¡çš„ä¸€ä¸ªçŸ¥è¯†ç‚¹

é™åˆ¶ï¼š

1.ç»“æ„ä½“é»˜è®¤ä¸ºç§æœ‰ï¼Œå…¶å­—æ®µä¹Ÿæ˜¯ç§æœ‰çš„ï¼Œ

2.ç»“æ„ä½“ä¸æ”¯æŒé€’å½’å¼•ç”¨ï¼Œå³ä¸èƒ½åŒ…å«è‡ªèº«ç±»å‹çš„å­—æ®µ
```sui move
module package::module_name {
    // ç»“æ„ä½“
    public struct Person has copy, drop{
        age: u8
    }
} 
```
åœ¨ä¸Šè¿°ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ªPersonçš„ç»“æ„ä½“ï¼Œå®ƒæ‹¥æœ‰copy, dropèƒ½åŠ›ï¼Œå£°æ˜äº†ageå­—æ®µã€‚
å¦‚æœè¦å¼€æ”¾å¤–éƒ¨å¯è§ï¼Œç»“æ„ä½“å¿…é¡»åŠ å¿…é¡»åŠ publicå…³é”®å­—ï¼Œå¹¶æä¾›ä¸€ä¸ªå…¬å…±æ„é€ å‡½æ•°ï¼Œè®¿é—®ç»“æ„ä½“å­—æ®µæä¾›å¯¹åº”çš„å…¬å…±å‡½æ•°æ¥è®¿é—®

```sui move
    // æä¾›ä¸€ä¸ªå…¬å…±æ„é€ å‡½æ•°
    public fun new_person(age: u8): Person {
        Person { age }
    }
    // æä¾›ä¸€ä¸ªå…¬å…±å‡½æ•°æ¥è®¿é—®ç»“æ„ä½“çš„å­—æ®µ
    public fun get_age(person: &Person):u8{
        person.age
    }
```

åˆ›å»ºå’Œä½¿ç”¨å®ä¾‹,å¹¶è¿”å›ageå­—æ®µå€¼
```sui move
    ///åˆ›å»ºå’Œä½¿ç”¨å®ä¾‹
    public  fun use_person():u8{
        let person = Person {age:16};
        //è®¿é—®å­—æ®µ
        person.age
    }
```

è§£æ„ç»“æ„ä½“,å¹¶è¿”å›ageå­—æ®µå€¼
```sui move
    ///è§£æ„ç»“æ„ä½“
    public  fun unpack_person():u8{
        let person = Person {age:16};
        let Person { age } = person;
        age
    }
```
ğŸ’§Â  [HOHæ°´åˆ†å­å…¬ä¼—å·](https://mp.weixin.qq.com/s/d0brr-ao6cZ5t8Z5OO1Mog)

ğŸŒŠÂ  [HOHæ°´åˆ†å­Xè´¦å·](https://x.com/0xHOH)

ğŸ“¹Â  [è¯¾ç¨‹Bç«™è´¦å·](https://space.bilibili.com/3493269495352098)

ğŸ’»Â  Githubä»“åº“ https://github.com/move-cn/letsmove


